<div class="relative isolate">
  <div class="pointer-events-none absolute inset-0 -z-10 opacity-60">
    <div class="absolute -left-24 -top-24 h-72 w-72 rounded-full bg-indigo-200 blur-3xl"></div>
    <div class="absolute -right-24 top-32 h-72 w-72 rounded-full bg-emerald-200 blur-3xl"></div>
  </div>

  <section class="overflow-hidden rounded-3xl border border-slate-200/80 bg-white/70 shadow-lg shadow-slate-200/60 ring-1 ring-black/5 backdrop-blur">
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-50/80 via-white to-emerald-50/70"></div>
    <div class="relative p-8 sm:p-12">
      <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
        <div>
          <p class="text-sm font-semibold text-slate-600">Seu dashboard</p>
          <h1 class="mt-2 text-3xl font-extrabold tracking-tight text-slate-900 sm:text-4xl">
            Olá, <span class="bg-gradient-to-r from-indigo-600 to-sky-600 bg-clip-text text-transparent"><%= (@user&.username.presence || current_user.username.presence || current_user.email) %></span>
          </h1>
          <p class="mt-3 max-w-2xl text-slate-700">
            Aqui é a sua área pessoal: suas provas, seus critérios e seus relatórios.
          </p>
        </div>

        <div class="flex flex-col gap-3 sm:flex-row">
          <%= link_to "Nova prova", new_prova_path, class: "inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-indigo-600 to-sky-600 px-5 py-3 text-sm font-semibold text-white shadow-sm shadow-indigo-200/60 transition hover:-translate-y-0.5 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2" %>
          <%= link_to "Minhas provas", provas_path, class: "inline-flex items-center justify-center rounded-xl border border-slate-300/80 bg-white/80 px-5 py-3 text-sm font-semibold text-slate-900 shadow-sm transition hover:-translate-y-0.5 hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2" %>
          <%= link_to "Meus alunos", alunos_path, class: "inline-flex items-center justify-center rounded-xl border border-slate-300/80 bg-white/80 px-5 py-3 text-sm font-semibold text-slate-900 shadow-sm transition hover:-translate-y-0.5 hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2" %>
          <%= link_to "Sair", destroy_user_session_path, data: { turbo_method: :delete }, class: "inline-flex items-center justify-center rounded-xl border border-slate-300/80 bg-white/80 px-5 py-3 text-sm font-semibold text-slate-900 shadow-sm transition hover:-translate-y-0.5 hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2" %>
        </div>
      </div>

      <div class="mt-8 grid grid-cols-1 gap-4 md:grid-cols-3">
        <div class="rounded-2xl border border-slate-200/80 bg-white p-6 shadow-sm ring-1 ring-black/5">
          <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">Provas</p>
          <p class="mt-2 text-2xl font-extrabold text-slate-900"><%= current_user.provas.count %></p>
          <p class="mt-1 text-sm text-slate-600">Organize suas provas por turma/disciplina.</p>
        </div>
        <div class="rounded-2xl border border-slate-200/80 bg-white p-6 shadow-sm ring-1 ring-black/5">
          <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">Critérios</p>
          <p class="mt-2 text-2xl font-extrabold text-slate-900">0</p>
          <p class="mt-1 text-sm text-slate-600">Padronize a correção com rubricas.</p>
        </div>
        <div class="rounded-2xl border border-slate-200/80 bg-white p-6 shadow-sm ring-1 ring-black/5">
          <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">Relatórios</p>
          <p class="mt-2 text-2xl font-extrabold text-slate-900">0</p>
          <p class="mt-1 text-sm text-slate-600">Veja padrões de acerto/erro por turma.</p>
        </div>
      </div>

      <div class="mt-8 rounded-2xl border border-slate-200/80 bg-white p-6 shadow-sm ring-1 ring-black/5">
        <div class="flex items-center justify-between gap-4">
          <div>
            <p class="text-sm font-semibold text-slate-900">Próximos passos</p>
            <p class="mt-1 text-sm text-slate-600">Deixe o fluxo pronto para corrigir sem retrabalho.</p>
          </div>
        </div>

        <ol class="mt-4 grid grid-cols-1 gap-3 md:grid-cols-3">
          <li class="rounded-xl bg-slate-50 p-4 ring-1 ring-slate-200/70">
            <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">1</p>
            <p class="mt-1 text-sm font-semibold text-slate-900">Crie uma prova</p>
            <p class="mt-1 text-sm text-slate-600">Nome, disciplina e questões.</p>
          </li>
          <li class="rounded-xl bg-slate-50 p-4 ring-1 ring-slate-200/70">
            <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">2</p>
            <p class="mt-1 text-sm font-semibold text-slate-900">Defina critérios</p>
            <p class="mt-1 text-sm text-slate-600">Rubricas e pesos por questão.</p>
          </li>
          <li class="rounded-xl bg-slate-50 p-4 ring-1 ring-slate-200/70">
            <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">3</p>
            <p class="mt-1 text-sm font-semibold text-slate-900">Corrija e gere feedback</p>
            <p class="mt-1 text-sm text-slate-600">Comentários reutilizáveis e evidências.</p>
          </li>
        </ol>
      </div>
    </div>
  </section>
</div>
