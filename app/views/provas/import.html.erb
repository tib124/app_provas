<div class="space-y-6">
  <div>
    <%= link_to "‚Üê Voltar para provas", provas_path, class: "text-sm font-semibold text-slate-700 hover:text-slate-900" %>
  </div>

  <div>
    <p class="text-sm font-semibold text-slate-600">Importar Provas</p>
    <h1 class="mt-2 text-2xl font-bold tracking-tight text-slate-900">Carregar provas via CSV</h1>
    <p class="mt-1 text-slate-600">Importe m√∫ltiplas provas de uma s√≥ vez usando um arquivo CSV.</p>
  </div>

  <div class="rounded-2xl border border-slate-200/80 bg-white p-6 shadow-sm ring-1 ring-black/5">
    <div class="mb-6">
      <h2 class="text-lg font-semibold text-slate-900">Formato esperado do CSV</h2>
      <p class="mt-2 text-sm text-slate-600">Seu arquivo deve ter as seguintes colunas (na primeira linha):</p>
      
      <div class="mt-4 overflow-x-auto">
        <table class="min-w-full border-collapse border border-slate-300">
          <thead class="bg-slate-100">
            <tr>
              <th class="border border-slate-300 px-4 py-2 text-left text-sm font-semibold text-slate-900">Coluna</th>
              <th class="border border-slate-300 px-4 py-2 text-left text-sm font-semibold text-slate-900">Exemplo</th>
              <th class="border border-slate-300 px-4 py-2 text-left text-sm font-semibold text-slate-900">Obrigat√≥rio</th>
              <th class="border border-slate-300 px-4 py-2 text-left text-sm font-semibold text-slate-900">Observa√ß√£o</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600"><code class="bg-slate-100 px-2 py-1 rounded">titulo</code></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">Prova de Matem√°tica</td>
              <td class="border border-slate-300 px-4 py-2 text-sm"><span class="inline-flex rounded-full bg-red-100 px-2 py-1 text-xs font-semibold text-red-800">Sim</span></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">Nome da prova</td>
            </tr>
            <tr>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600"><code class="bg-slate-100 px-2 py-1 rounded">aluno_ra</code></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">A874321</td>
              <td class="border border-slate-300 px-4 py-2 text-sm"><span class="inline-flex rounded-full bg-green-100 px-2 py-1 text-xs font-semibold text-green-800">Opcional</span></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">RA do aluno (deixe vazio para sem aluno)</td>
            </tr>
            <tr>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600"><code class="bg-slate-100 px-2 py-1 rounded">data_criacao</code></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">2026-02-12</td>
              <td class="border border-slate-300 px-4 py-2 text-sm"><span class="inline-flex rounded-full bg-green-100 px-2 py-1 text-xs font-semibold text-green-800">Opcional</span></td>
              <td class="border border-slate-300 px-4 py-2 text-sm text-slate-600">Formato YYYY-MM-DD (usa data atual se n√£o informado)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="mt-4 p-4 rounded-lg bg-blue-50 border border-blue-200">
        <p class="text-sm text-blue-900"><strong>üí° Dica:</strong> Voc√™ pode deixar aluno_ra e data_criacao em branco. As provas ser√£o criadas com data atual se n√£o especificado.</p>
      </div>
    </div>

    <div class="border-t border-slate-200 pt-6">
      <%= form_with url: process_import_provas_path, method: :post, local: true, class: "space-y-4" do |f| %>
        <div>
          <%= f.label :csv_file, "Selecione o arquivo CSV", class: "block text-sm font-semibold text-slate-900" %>
          <%= f.file_field :csv_file, accept: '.csv', class: "mt-2 block w-full rounded-xl border border-slate-300/80 bg-white/80 px-3 py-2.5 text-sm text-slate-900 shadow-sm outline-none transition focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200", required: true %>
          <p class="mt-1 text-xs text-slate-600">Apenas arquivos CSV s√£o aceitos</p>
        </div>

        <div class="flex gap-3 pt-2">
          <%= f.submit "Importar provas", class: "inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-indigo-600 to-sky-600 px-5 py-3 text-sm font-semibold text-white shadow-sm shadow-indigo-200/60 transition hover:-translate-y-0.5 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2" %>
          <%= link_to "Cancelar", provas_path, class: "inline-flex items-center justify-center rounded-xl border border-slate-300/80 bg-white px-5 py-3 text-sm font-semibold text-slate-900 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2" %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="rounded-2xl border border-slate-200/80 bg-slate-50/60 p-6 ring-1 ring-black/5">
    <h3 class="text-sm font-semibold text-slate-900">Exemplo de arquivo CSV v√°lido:</h3>
    <pre class="mt-3 overflow-x-auto rounded-lg bg-white p-3 text-xs text-slate-700 border border-slate-200"><code>titulo,aluno_ra,data_criacao
Prova de Matem√°tica,A874321,2026-02-12
Prova de Portugu√™s,B123456,2026-02-12
Prova de Hist√≥ria,,2026-02-12
Prova de Geografia,D987654,</code></pre>
  </div>
</div>
